@page "/"

@using DietPenguin.Gui.User

@implements IDisposable

@inject AppState State

<PageTitle>Twój dzisiejszy dziennik dietetyczny</PageTitle>

<NutritionalNeeds Needs="State.User?.NutritionalNeeds.Values" />

@code
{
    protected override void OnInitialized()
    {
        base.OnInitialized();
        State.OnChange += Rerender;
    }

    private void Rerender()
    {
        StateHasChanged();
    }

    public void Dispose()
    {
        State.OnChange -= Rerender;
    }
}
